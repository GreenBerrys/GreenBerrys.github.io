<!DOCTYPE html>
<html lang="de">
<head>
    <title>Avidemux Einstellungen</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <style>

        * {box-sizing: border-box}

        body{
            background-color: lightgray;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            margin-top: 3rem;
        }
        header{
            position: fixed; 
            top: 0;
            left: 0;
            width: 100%;
            background-color: lightgray;
            z-index: 5;
        }
        .head{
            display: flex;
            width: 100%;
            height:  2rem;
            align-items: center;
            margin-top: 10px;
        }

/* --------------------------------------------- */

        .slide img{
            position: absolute;
            top: 0;
            width: 100%; 
            box-shadow: 1px 3px 7px 3px black;   
            visibility: hidden;
        }

        /* Next & previous buttons */
        .prev, .next {
            cursor: pointer;
            position: absolute;
            margin-top: 24%;
            width: auto;
            padding: 16px;
            color: red;
            font-weight: bolder;
            font-size: 20px;
            transition: 0.6s ease;
            border-radius: 0 3px 3px 0;
            user-select: none;
            background-color: darkgray;
            z-index: 3;
        }
        
        /* Position the "next button" to the right */
        .next {
            right: 0;
        }
        
        /* On hover, add a grey background color */
        .prev:hover, .next:hover {
            background-color: black;
        }

        .slide { 
            display: block;
        }
    
        /* ================= Effects =========================== */

        /* Fading animation */
        .fadein {
            animation:  fadein 1s forwards;
        }

        @keyframes fadein {
            from {opacity: 0}
            to {opacity: 1}
        }
        .fadeout {
            animation: fadeout 1s forwards;
        }

        @keyframes fadeout {
            from {opacity: 1}
            to {opacity: 0}
        }


        
        /* ====================================================== */
        #noJs{
            position: fixed;
            top: 250px;
            left: 10vw;
            z-index: -1;
            color: red;
        }

       .img-magnifier-glass {
            position: absolute;
            border: 3px solid #000;
            border-radius: 5%;
            cursor: none;
            z-index: 4;
        }

    </style>
</head>
    <body>

            <header>
                <div class="head">        
                    <div><h2>&nbsp;Einstellungen in Avidemux zum hochskalieren von SD-Filmen:</h2></div>
                </div>
            </header>
            
            <div class="slideshow-container">
                <div class="slide">
                    <img src="step1.jpg" alt="screenshot">
                </div>
                <div class="slide">
                    <img src="step2.jpg" alt="screenshot">
                </div>
                <div class="slide">
                    <img src="step3.jpg" alt="screenshot">
                </div>
                <div class="slide">
                    <img src="step4.jpg" alt="screenshot">
                </div>
                <div class="slide">
                    <img src="step5.jpg" alt="screenshot">
                </div>
                <div class="slide">
                    <img src="step6.jpg" alt="screenshot">
                </div>
                <div class="slide">
                    <img src="step7.jpg" alt="screenshot">
                </div>
                <a class="prev" onclick="plusSlide( -1 )">&#10094;</a>
                <a class="next" onclick="plusSlide( 1 )">&#10095;</a>
            </div>
            
        <script>

            // ====> Slides
            let slides; 
            let slideNo;

            // ====> magnifier glass
            const zoomSize = 1;
            const glassWidth = 350;
            const glassHeight = 250;

            // ----- intern
            const bw=3;
            let glass=null, width, height, zoom, img;

            document.onreadystatechange = (e) => {

                if (document.readyState === "complete") {

                    slides = document.getElementsByClassName('slide');
                    slideNo = 0;

                    showSlide( slideNo );

                    /* reinit glass after windowresizing */
                    window.addEventListener( 'resize', updateGlass, { passive: true } );
                }
            };

            // ===============================> Slidehandling

            function sleep (time) { return new Promise((resolve) => setTimeout(resolve, time)); }

            function plusSlide( n ) {
                showSlide( slideNo + n );
            }

            function showSlide( no ) {
                
                removeGlass();

                if ( no >= slides.length ) { no = 0 } 
                if ( no < 0 ) { no = slides.length -1 } 
                
                const slideOldImg = slides[slideNo].getElementsByTagName('img')[0];
                const slideNewImg = slides[no].getElementsByTagName('img')[0];

                slideNewImg.style.zIndex = "1";
                slideNewImg.style.visibility = "visible";

                if (no !== slideNo){
    
                    slideOldImg.style.zIndex = "0";
                    slideOldImg.className="fadeout";
                    slideNewImg.className="fadein";

                    sleep(1000).then( () => { slideOldImg.style.visibility = "hidden"; });
                }

                slideNo = no;
                createGlass( slideNewImg );
            } 

            // ===============================> magnifier glass handling

            function updateGlass( e ) {

                glass.style.visibility === "hidden";
                zoom = zoomSize + ( img.naturalWidth + img.naturalHeight ) / ( img.width + img.height );
                glass.style.backgroundSize = (img.width * zoom) + "px " + (img.height * zoom) + "px";
                width = glass.offsetWidth / 2;
                height = glass.offsetHeight / 2;
            }

            function removeGlass() {

                if( glass !== null ) {
                    glass.style.visibility = "hidden";
                    glass.removeEventListener("mousemove", moveGlass);
                    glass.removeEventListener("click", mouseClick);
                    img.removeEventListener("mousemove", moveGlass);
                    img.removeEventListener("click", mouseClick);
                    glass.remove();
                    glass = null;
                }
            }

            function createGlass( slideImage ) {

                img = slideImage;
                zoom = zoomSize + ( img.naturalWidth + img.naturalHeight ) / ( img.width + img.height );

                /* Create magnifier glass: */
                glass = document.createElement("DIV");
                glass.setAttribute("class", "img-magnifier-glass");
                glass.style.height = glassHeight + 'px';
                glass.style.width =  glassWidth + 'px';
                glass.style.visibility = "hidden";

                /* Insert magnifier glass: */
                img.parentElement.insertBefore(glass, img);

                /* Set background properties for the magnifier glass: */
                glass.style.backgroundImage = "url('" + img.src + "')";
                glass.style.backgroundRepeat = "no-repeat";
                glass.style.backgroundSize = (img.width * zoom) + "px " + (img.height * zoom) + "px";
                
                width = glass.offsetWidth / 2;
                height = glass.offsetHeight / 2;

                /* Execute a function when someone moves the magnifier glass over the image */
                glass.addEventListener("mousemove", moveGlass );
                img.addEventListener("mousemove", moveGlass );

                /* turn glass on/off */
                glass.addEventListener("click", mouseClick);
                img.addEventListener("click", mouseClick);

            }
            function mouseClick( e ) {
                glass.style.visibility === "hidden" ? glass.style.visibility = "visible" : glass.style.visibility = "hidden"; 
            }
            
            function moveGlass( e ) {
                let pos, x, y;
                /* Prevent any other actions that may occur when moving over the image */
                e.preventDefault();
                /* Get the cursor's x and y positions: */
                pos = getCursorPos( e );
                x = pos.x;
                y = pos.y;
                /* Prevent the magnifier glass from being positioned outside the image: */
                if (x > img.width - (width / zoom)) {x = img.width - (width / zoom);}
                if (x < width / zoom) {x = width / zoom;}
                if (y > img.height - (height / zoom)) {y = img.height - (height / zoom);}
                if (y < height / zoom) {y = height / zoom;}
                /* Set the position of the magnifier glass: */
                glass.style.left = (x - width ) + "px";
                glass.style.top = (y - height ) + "px";
                /* Display what the magnifier glass "sees": */
                glass.style.backgroundPosition = "-" + ((x * zoom) - width + bw) + "px -" + ((y * zoom) - height + bw) + "px";
            }

            function getCursorPos( e ) {
                let a, x = 0, y = 0;
                e = e || window.event;
                /* Get the x and y positions of the image: */
                a = img.getBoundingClientRect();
                /* Calculate the cursor's x and y coordinates, relative to the image: */
                x = e.pageX - a.left;
                y = e.pageY - a.top;
                /* Consider any page scrolling: */
                x = x - window.pageXOffset;
                y = y - window.pageYOffset;
                return {x : x, y : y};
            }
            
        </script>

        <noscript>
            <h2 id="noJs">Zur Anzeige der Bilder<br> wird Javascript ben&ouml;tigt..</h2>
        </noscript>
    </body>
    
</html>
